(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-95e00796","chunk-13f72207"],{"038f":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"g",(function(){return s})),a.d(e,"d",(function(){return o})),a.d(e,"i",(function(){return i})),a.d(e,"f",(function(){return l})),a.d(e,"e",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"h",(function(){return d})),a.d(e,"b",(function(){return p}));var n=a("b775");function r(t){return Object(n["a"])({url:"/bet/baccarat/edit",method:"post",params:t})}function s(t){return Object(n["a"])({url:"/bet/baccarat/reckon",method:"post",params:t})}function o(t){return Object(n["a"])({url:"/bet/baccarat/input",method:"post",params:t})}function i(t){return Object(n["a"])({url:"/bet/baccarat/update",method:"post",params:t})}function l(t){return Object(n["a"])({url:"/bet/baccarat/open",method:"post",params:t})}function c(t){return Object(n["a"])({url:"/bet/baccarat/game",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/bet/baccarat/info",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/bet/push/save",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/bet/push/get",method:"post",params:t})}},4570:function(t,e,a){},"81d5":function(t,e,a){"use strict";var n=a("7b0b"),r=a("23cb"),s=a("07fa");t.exports=function(t){var e=n(this),a=s(e),o=arguments.length,i=r(o>1?arguments[1]:void 0,a),l=o>2?arguments[2]:void 0,c=void 0===l?a:r(l,a);while(c>i)e[i++]=t;return e}},"915d":function(t,e,a){"use strict";a("4570")},9748:function(t,e,a){"use strict";a("fb14")},"9a7b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4,xs:24}},[a("el-card",{staticClass:"box-card-box",staticStyle:{"text-align":"center"}},[a("h1",[t._v("当前操作员")]),a("div",[t._v(t._s(t.userName))]),a("el-button",{staticClass:"loginout",attrs:{type:"info"},nativeOn:{click:function(e){return t.logout(e)}}},[t._v("切换账号")])],1)],1),a("el-col",{attrs:{span:6,xs:24}},[a("el-card",{staticClass:"box-card-box",staticStyle:{"text-align":"center"}},[a("ul",[a("li",[t._v("台号："+t._s(t.tableInfo.tableId||0))]),a("li",[t._v("靴号："+t._s(t.tableInfo.bootNum||0))]),a("li",[t._v("局号："+t._s(t.tableInfo.gameNum||0))]),a("li",[t._v("累计："+t._s(t.tableInfo.total||0))]),a("li",[t._v("筹码："+t._s(t.tableInfo.chip||0))]),a("li",[t._v("现金："+t._s(t.tableInfo.cash||0))])])]),a("el-card",{staticClass:"box-card-box",staticStyle:{"text-align":"center"}},[a("ul",[a("li",[t._v("庄："+t._s(t.baccaratSum.sumZ||0))]),a("li",[t._v("庄对："+t._s(t.baccaratSum.sumZd||0))]),a("li",[t._v("庄保险："+t._s(t.baccaratSum.sumZbx||0))]),a("li",[t._v("和："+t._s(t.baccaratSum.sumH||0))]),a("li",[t._v("闲："+t._s(t.baccaratSum.sumX||0))]),a("li",[t._v("闲对："+t._s(t.baccaratSum.sumXd||0))]),a("li",[t._v("闲保险："+t._s(t.baccaratSum.sumXbx||0))])])])],1),a("el-col",{attrs:{span:4,xs:24}},[a("el-card",{staticClass:"box-card-box",staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.screencast}},[t._v(t._s(t.isSend?"已投屏":"未投屏"))]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.betRecord}},[t._v("下注记录")])],1)],1),a("el-col",{attrs:{span:10,xs:24}},[a("el-card",{staticClass:"box-card-box",staticStyle:{"text-align":"center"}},[a("div",{staticClass:"ludanbox"},[a("div",{staticClass:"ludanbg"},t._l(t.szdata,(function(e,n){return a("div",{key:n,staticClass:"list"},t._l(e,(function(e,n){return a("div",{key:n,staticClass:"list_p",attrs:{title:e}},[a("i",[t._v(t._s(e))])])})),0)})),0),a("div",{staticClass:"ludan"},t._l(t.result,(function(e,n){return a("div",{key:n,staticClass:"list2"},t._l(e,(function(e,n){return a("el-tooltip",{key:n,staticClass:"item list_p",attrs:{effect:"light",content:"局号"+e.gameNum,placement:"top"}},[a("el-button",{on:{click:function(a){return t.changeChip(e)}}},[a("i",{class:t.getclass(e.gameResult)})])],1)})),1)})),0)])])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24,xs:24}},[a("el-card",{staticClass:"box-card-box-list",staticStyle:{"text-align":"center"}},[a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:0}},[a("el-col",{attrs:{span:4,xs:12}},[a("div",{staticClass:"f1"},[a("span",[t._v("筹码:"+t._s(t.baccaratSum.sumChip||0))]),a("span",[t._v("现金:"+t._s(t.baccaratSum.sumCash||0))])])]),a("el-col",{attrs:{span:14,xs:24}},[a("el-radio-group",{staticClass:"checked",model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[a("el-radio-button",{staticClass:"red",attrs:{label:4}},[t._v("庄")]),a("el-radio-button",{staticClass:"blue",attrs:{label:1}},[t._v("闲")]),a("el-radio-button",{staticClass:"green",attrs:{label:7}},[t._v("和")])],1),a("el-checkbox-group",{staticClass:"checked",model:{value:t.checkboxGroup1,callback:function(e){t.checkboxGroup1=e},expression:"checkboxGroup1"}},t._l(t.reData,(function(e,n){return a("el-checkbox-button",{key:n,class:e.color,attrs:{label:e.id}},[t._v(t._s(e.name))])})),1),a("el-checkbox-group",{staticClass:"checked",attrs:{max:1},model:{value:t.checkboxGroup2,callback:function(e){t.checkboxGroup2=e},expression:"checkboxGroup2"}},t._l(t.reData1,(function(e,n){return a("el-checkbox-button",{key:n,class:e.color,attrs:{label:e.id}},[t._v(t._s(e.name))])})),1)],1),a("el-col",{staticClass:"control",attrs:{span:6,xs:24}},[a("el-button",{attrs:{type:"primary"},on:{click:t.startBet}},[t._v("开牌")]),a("el-button",{attrs:{type:"primary",disabled:t.iskaipai},on:{click:t.updataBet}},[t._v("录入")]),a("el-button",{attrs:{type:"primary"},on:{click:t.ponintCode}},[t._v("点码")]),a("el-button",{attrs:{type:"primary"},on:{click:t.getCode}},[t._v("收码")])],1)],1)],1)],1)],1),a("el-dialog",{staticClass:"ludanBox_dialog",attrs:{title:"路单修改",visible:t.openLUdan,width:"600px","append-to-body":""},on:{"update:visible":function(e){t.openLUdan=e}}},[a("el-form",{ref:"form",attrs:{model:t.formLudan,rules:t.rulesLudan,"label-width":"0"}},[a("el-form-item",{attrs:{label:"",prop:""}},[a("div",{staticClass:"head",staticStyle:{display:"flex",width:"100%","justify-content":"space-around"}},[a("div",[t._v("台号："+t._s(t.formLudan.tableId))]),a("div",[t._v("靴号："+t._s(t.formLudan.bootNum))]),a("div",[t._v("局号："+t._s(t.formLudan.gameNum))])])]),a("el-form-item",{attrs:{label:"",prop:""}},[a("el-radio-group",{model:{value:t.formLudan.radio1,callback:function(e){t.$set(t.formLudan,"radio1",e)},expression:"formLudan.radio1"}},[a("el-radio-button",{staticClass:"red",attrs:{label:4}},[t._v("庄")]),a("el-radio-button",{staticClass:"blue",attrs:{label:1}},[t._v("闲")]),a("el-radio-button",{staticClass:"green",attrs:{label:7}},[t._v("和")])],1)],1),a("el-form-item",[a("el-checkbox-group",{staticClass:"checked",model:{value:t.formLudan.checkboxGroup1,callback:function(e){t.$set(t.formLudan,"checkboxGroup1",e)},expression:"formLudan.checkboxGroup1"}},t._l(t.reData,(function(e,n){return a("el-checkbox-button",{key:n,class:e.color,attrs:{label:e.id}},[t._v(t._s(e.name))])})),1)],1),a("el-form-item",{attrs:{label:"",prop:""}},[a("el-checkbox-group",{staticClass:"checked",attrs:{max:1},model:{value:t.checkboxGroup2,callback:function(e){t.checkboxGroup2=e},expression:"checkboxGroup2"}},t._l(t.reData1,(function(e,n){return a("el-checkbox-button",{key:n,class:e.color,attrs:{label:e.id}},[t._v(t._s(e.name))])})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitLudan}},[t._v("确 定")]),a("el-button",{on:{click:t.cancel}},[t._v("取 消")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"betBox",attrs:{height:"500px",data:t.baccaratList,border:"","row-class-name":t.status_change},on:{"current-change":t.DataChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{key:"type",attrs:{label:"选择币种",align:"center",fixed:"",prop:"type",width:"155px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio-group",{model:{value:e.row.type,callback:function(a){t.$set(e.row,"type",t._n(a))},expression:"scope.row.type"}},[a("el-radio",{attrs:{label:0}},[t._v("现金")]),a("el-radio",{attrs:{label:1}},[t._v("筹码")])],1)]}}])}),a("el-table-column",{key:"card",attrs:{label:"卡号",align:"center",prop:"card",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.row.card,callback:function(a){t.$set(e.row,"card",t._n(a))},expression:"scope.row.card"}})]}}])}),a("el-table-column",{key:"card1",attrs:{label:"庄",align:"center",prop:"card1"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.row.card1,callback:function(a){t.$set(e.row,"card1",t._n(a))},expression:"scope.row.card1"}})]}}])}),a("el-table-column",{key:"card2",attrs:{label:"闲",align:"center",prop:"card2"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.row.card2,callback:function(a){t.$set(e.row,"card2",t._n(a))},expression:"scope.row.card2"}})]}}])}),a("el-table-column",{key:"card3",attrs:{label:"和",align:"center",prop:"card3"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.row.card3,callback:function(a){t.$set(e.row,"card3",t._n(a))},expression:"scope.row.card3"}})]}}])}),a("el-table-column",{key:"card4",attrs:{label:"庄对",align:"center",prop:"card4"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.row.card4,callback:function(a){t.$set(e.row,"card4",t._n(a))},expression:"scope.row.card4"}})]}}])}),a("el-table-column",{key:"card5",attrs:{label:"闲对",align:"center",prop:"card5"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.row.card5,callback:function(a){t.$set(e.row,"card5",t._n(a))},expression:"scope.row.card5"}})]}}])}),a("el-table-column",{key:"card6",attrs:{label:"庄保险",align:"center",prop:"card6"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.row.card6,callback:function(a){t.$set(e.row,"card6",t._n(a))},expression:"scope.row.card6"}})]}}])}),a("el-table-column",{key:"card7",attrs:{label:"闲保险",align:"center",prop:"card7"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.row.card7,callback:function(a){t.$set(e.row,"card7",t._n(a))},expression:"scope.row.card7"}})]}}])}),a("el-table-column",{key:"card8",attrs:{label:"大",align:"center",prop:"card8"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.row.card8,callback:function(a){t.$set(e.row,"card8",t._n(a))},expression:"scope.row.card8"}})]}}])}),a("el-table-column",{key:"card9",attrs:{label:"小",align:"center",prop:"card9"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.row.card9,callback:function(a){t.$set(e.row,"card9",t._n(a))},expression:"scope.row.card9"}})]}}])}),a("el-table-column",{key:"chip",attrs:{label:"现有筹码",align:"center",prop:"chip",fixed:"right"}}),a("el-table-column",{attrs:{label:"赔码数",align:"center",prop:"payout",fixed:"right"}})],1),a("Dialog",{attrs:{title:t.title,open:t.open},on:{getOpen:t.openData}})],1)},r=[],s=a("2909"),o=a("1da1"),i=a("5530"),l=a("ade3"),c=(a("96cf"),a("b0c0"),a("d81d"),a("cb29"),a("d3b7"),a("25f0"),a("a15b"),a("159b"),a("b64b"),a("4de4"),a("a9e3"),a("ddb0"),a("fb6a"),a("ac1f"),a("1276"),a("038f")),u=a("2f62"),d=a("ee05"),p={name:"Baccarat",data:function(){var t;return{isSend:!1,loading:!0,isVisibles:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,userList:[],userData:[],userTotal:"",szdata:[],title:"",deptOptions:void 0,open:!1,openLUdan:!1,detailOpen:!1,deptName:void 0,initPassword:void 0,dateRange:[],postOptions:[],roleOptions:[],form:{},formLudan:{id:"",radio1:"",checkboxGroup1:[],checkboxGroup2:[]},defaultProps:{children:"children",label:"label"},queryParams:{pageNum:1,pageSize:30,card:"",isAdmin:!1},basedata:{},betList:[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10},{id:11},{id:12},{id:13},{id:14},{id:15},{id:16},{id:17},{id:18},{id:19},{id:20},{id:21},{id:22},{id:23},{id:24},{id:25},{id:26},{id:27},{id:28},{id:29},{id:30}],subData:[],rulesLudan:{},checkboxGroup1:[],checkboxGroup2:[],radio1:"",reData:[{id:8,name:"庄对",color:"red"},{id:5,name:"闲对",color:"blue"}],reData1:[{id:9,name:"大",color:"red"},{id:6,name:"小",color:"blue"}],tableInfo:"",iskaipai:!0,result:"",sumdata:(t={sumZ:"",sumX:"",sumH:"",sumZd:"",sumXd:"",sumZbx:"",sumXbx:"",sumD:""},Object(l["a"])(t,"sumX",""),Object(l["a"])(t,"sumChip",""),Object(l["a"])(t,"sumCash",""),t)}},components:{Dialog:d["default"]},watch:{},created:function(){this.getszdata(),this.getTableInfo(),this.getResult()},computed:Object(i["a"])({userName:function(){return this.$store.state.user.name}},Object(u["d"])("game",["baccaratList","baccaratSum"])),methods:Object(i["a"])(Object(i["a"])({},Object(u["c"])("game",["setBaccaratList","setBaccaratSum"])),{},{screencast:function(){this.isSend=!this.isSend,this.getSend()},roadChange:function(){},betRecord:function(){},openData:function(t){this.open=t},getTableInfo:function(){var t=this;Object(c["c"])().then((function(e){t.tableInfo=e.data,t.loading=!1}),this.setBaccaratList(this.betList),this.setBaccaratSum(this.sumdata))},getResult:function(){var t=this;Object(c["e"])().then((function(e){t.result=t.spArr(e.data,6),t.loading=!1}))},getclass:function(t){return-1!=t.indexOf("1")&&-1==t.indexOf("5")&&-1==t.indexOf("8")?"type1":-1!=t.indexOf("1")&&-1!=t.indexOf("5")&&-1==t.indexOf("8")?"type2":-1!=t.indexOf("1")&&-1==t.indexOf("5")&&-1!=t.indexOf("8")?"type3":-1!=t.indexOf("1")&&-1!=t.indexOf("5")&&-1!=t.indexOf("8")?"type4":-1!=t.indexOf("4")&&-1==t.indexOf("5")&&-1==t.indexOf("8")?"type5":-1!=t.indexOf("4")&&-1!=t.indexOf("5")&&-1==t.indexOf("8")?"type6":-1!=t.indexOf("4")&&-1==t.indexOf("5")&&-1!=t.indexOf("8")?"type7":-1!=t.indexOf("4")&&-1!=t.indexOf("5")&&-1!=t.indexOf("8")?"type8":-1!=t.indexOf("7")?"type9":void 0},logout:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$confirm("确定切换账号吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.dispatch("usre/LogOut").then((function(){location.href="/index"}))})).catch((function(){}));case 1:case"end":return e.stop()}}),e)})))()},handleSelectionChange:function(t){this.ids=t.map((function(t){return t.id})),this.single=1!=t.length,this.multiple=!t.length},status_change:function(t){if(t.row.card1||t.row.card2||t.row.card3||t.row.card4||t.row.card5||t.row.card6||t.row.card7||t.row.card8||t.row.card9){if(!t.row.type&&0!=t.row.type)return"table-info-red";if(!t.row.card)return"table-info-red1"}},getSend:function(){var t=this;if(1==this.isSend)Object(c["h"])({json:this.betList}).then((function(e){t.loading=!1}));else{var e=Array(30).fill().map((function(t,e){return Object({id:e+1})}));Object(c["h"])({json:e}).then((function(e){t.loading=!1}))}},DataChange:function(){this.getSend()},startBet:function(){var t=this;if(console.log(this.iskaipai),""!=this.radio1){var e={},a="";a=this.radio1.toString()+this.checkboxGroup1.join("")+this.checkboxGroup2.join(""),e["gameResult"]=a;var n=[],r=[];n=this.betList.map((function(t){return{type:t.type,card:t.card,4:t.card1,1:t.card2,7:t.card3,8:t.card4,5:t.card5,3:t.card6,0:t.card7,9:t.card8,6:t.card9}}));var s=!1;this.betList.forEach((function(e){(e.card1||e.card2||e.card3||e.card4||e.card5||e.card6||e.card7||e.card8||e.card9)&&(e.type||0==e.type||s||(s=!0,t.$modal.msgError("请检查币种是否漏勾选")),e.card||s||(s=!0,t.$modal.msgError("请检查考号是否漏填")))})),n.forEach((function(e){return Object.keys(e).forEach((function(a){t.isEmpty(e[a])&&delete e[a]})),e})),r=n.filter((function(t){return 0!==Object.keys(t).length})),e["bet"]=r;var o=this.sumArr(r);this.sumdata.sumZ=o["4"],this.sumdata.sumX=o["1"],this.sumdata.sumH=o["7"],this.sumdata.sumZd=o["8"],this.sumdata.sumXd=o["5"],this.sumdata.sumZbx=o["3"],this.sumdata.sumXbx=o["0"],this.sumdata.sumD=o["9"],this.sumdata.sumX=o["6"];var l=r.filter((function(t){return 0==t.type})),u=this.sumArr(l),d=r.filter((function(t){return 1==t.type})),p=this.sumArr(d);this.sumdata.sumChip=p["4"]+p["1"]+p["7"]+p["8"]+p["5"]+p["9"]+p["6"],this.sumdata.sumCash=u["4"]+u["1"]+u["7"]+u["8"]+u["5"]+u["9"]+u["6"],this.setBaccaratSum(this.sumdata),Object(c["f"])({json:e}).then((function(e){t.subData=e.data,t.betList.forEach((function(e){return Object.keys(e).forEach((function(a){t.isEmpty(e[a])&&delete e[a]})),e}));var a=Array(30).fill().map((function(t,e){return Object({id:e+1})}));t.subData.bet.forEach((function(e,n){a[n]=Object(i["a"])(Object(i["a"])(Object(i["a"])({},e),a[n]),t.betList[n])})),t.betList=a,console.log(t.betList),t.setBaccaratList(t.betList),t.getSend(),t.iskaipai=!1,t.loading=!1}))}else this.$modal.msgError("请选择开奖结果")},updataBet:function(){var t=this;Object(c["d"])({json:this.subData}).then((function(e){var a;t.loading=!1,t.betList=Array(30).fill().map((function(t,e){return Object({id:e+1})})),t.radio1="",t.checkboxGroup1=[],t.checkboxGroup2=[],t.sumdata=(a={sumZ:"",sumX:"",sumH:"",sumZd:"",sumXd:"",sumZbx:"",sumXbx:"",sumD:""},Object(l["a"])(a,"sumX",""),Object(l["a"])(a,"sumChip",""),Object(l["a"])(a,"sumCash",""),a),t.setBaccaratList(t.betList),t.setBaccaratSum(t.sumdata);var n=t;setTimeout((function(){n.getTableInfo(),n.getResult()}),1e3),t.getSend(),t.iskaipai=!0}))},sumArr:function(t){if(t)return t.reduce((function(t,e){return Object.keys(t).forEach((function(a){return t[a]+=e[a]?e[a]:0})),t}),{1:0,4:0,7:0,8:0,5:0,9:0,6:0,3:0,0:0})},isEmpty:function(t){return"undefined"===typeof t||null===t||""===t},getSummaries:function(t){var e=this,a=t.columns,n=(t.data,[]);return a.forEach((function(t,a){0!==a?6!==a?8!==a||(n[a]=e.userTotal.winLose):n[a]=e.userTotal.betMoney:n[a]="合计"})),n},getSummaries1:function(t){var e=t.columns,a=t.data,n=[];return e.forEach((function(t,e){if(0!==e)if(1!=e&&2!=e&&3!=e&&4!=e&&5!=e&&7!=e){var r=a.map((function(e){return Number(e[t.property])}));r.every((function(t){return isNaN(t)}))||(n[e]=r.reduce((function(t,e){var a=Number(e);if(isNaN(a)){var n=t;return n}var r=t+e;return r}),0),n[e]+="")}else n[e]="";else n[e]="小计"})),n},cancel:function(){this.open=!1,this.openLUdan=!1,this.reset()},reset:function(){this.form={card:"",userName:"",signedAmount:"",remark:""},this.formLudan={id:"",radio1:"",checkboxGroup1:[],checkboxGroup2:[]},this.resetForm("form"),this.resetForm("formLudan")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},ponintCode:function(){console.log(1),this.open=!0,this.title="点码"},getCode:function(){this.open=!0,this.title="收码"},getszdata:function(){this.szdata=Object(s["a"])(Array(73).keys()),this.szdata.shift(),this.szdata=this.spArr(this.szdata,6)},spArr:function(t,e){for(var a=[],n=0;n<t.length;)a.push(t.slice(n,n+=e));return a},changeChip:function(t){var e=this;console.log(t),this.reset(),this.openLUdan=!0,this.formLudan.id=t.id,this.formLudan.bootNum=t.bootNum,this.formLudan.gameNum=t.gameNum,this.formLudan.tableId=t.tableId;var a=t.gameResult,n=a.split("");n.forEach((function(t){1==t?e.formLudan.radio1=1:4==t?e.formLudan.radio1=4:7==t?e.formLudan.radio1=7:5==t?e.formLudan.checkboxGroup1.push(5):8==t?e.formLudan.checkboxGroup1.push(8):9==t?e.formLudan.checkboxGroup2.push(9):6==t&&e.formLudan.checkboxGroup2.push(6)}))},submitLudan:function(){var t=this,e="";e=this.formLudan.radio1.toString()+this.formLudan.checkboxGroup1.join("")+this.formLudan.checkboxGroup2.join("");var a={};a["id"]=this.formLudan.id,a["gameResult"]=e,Object(c["i"])(a).then((function(e){t.$modal.msgSuccess("路单图修改成功"),t.openLUdan=!1;var a=t;setTimeout((function(){a.getResult()}),1e3)}))}})},m=p,f=(a("915d"),a("2877")),v=Object(f["a"])(m,n,r,!1,null,null,null);e["default"]=v.exports},cb29:function(t,e,a){var n=a("23e7"),r=a("81d5"),s=a("44d2");n({target:"Array",proto:!0},{fill:r}),s("fill")},ee05:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isOpen?a("el-dialog",{staticClass:"dialogBox",attrs:{title:t.title,visible:t.isOpen,width:"800px","before-close":t.handleClose,"append-to-body":""},on:{"update:visible":function(e){t.isOpen=e}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,xs:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"bbetbox",attrs:{height:"auto",data:t.Listdata,border:"","show-summary":"","sum-text":"小计","summary-method":t.getSummaries},on:{"cell-mouse-leave":t.handleSelectionChange}},[a("el-table-column",{key:"val",attrs:{label:"面值",align:"center",prop:"val"}}),a("el-table-column",{key:"num",attrs:{label:"数量",align:"center",prop:"num"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.row.num,callback:function(a){t.$set(e.row,"num",t._n(a))},expression:"scope.row.num"}})]}}],null,!1,2555708750)}),a("el-table-column",{attrs:{label:"合计",align:"center",prop:"total"},scopedSlots:t._u([{key:"default",fn:function(e){return["现金"==e.row.val?a("span",[t._v(t._s(e.row.num||0))]):a("span",[t._v(t._s((e.row.num||0)*(e.row.value>5e3?e.row.value/1e4:e.row.value))+t._s(e.row.value>5e3?"万":""))])]}}],null,!1,1030854003)})],1)],1),a("el-col",{attrs:{span:12,xs:24}},[a("el-form",{ref:"form",staticClass:"gameDialog",attrs:{model:t.form,rules:t.rules,"label-width":"0px"}},[a("div",{staticClass:"list"},[a("div",[t._v("类型")]),a("div",[t._v("金额")]),a("div",[t._v("状态")])]),a("div",{staticClass:"list"},[a("div",[t._v("筹码增")]),a("div",[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:t.form.chipAdd,callback:function(e){t.$set(t.form,"chipAdd",t._n(e))},expression:"form.chipAdd"}})],1),a("div",[t._v("-")])]),a("div",{staticClass:"list"},[a("div",[t._v("筹码减")]),a("div",[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:t.form.chipSub,callback:function(e){t.$set(t.form,"chipSub",t._n(e))},expression:"form.chipSub"}})],1),a("div",[t._v("-")])]),a("div",{staticClass:"list"},[a("div",[t._v("现金增")]),a("div",[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:t.form.cashAdd,callback:function(e){t.$set(t.form,"cashAdd",t._n(e))},expression:"form.cashAdd"}})],1),a("div",[t._v("-")])]),a("div",{staticClass:"list"},[a("div",[t._v("现金减")]),a("div",[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:t.form.cashSub,callback:function(e){t.$set(t.form,"cashSub",t._n(e))},expression:"form.cashSub"}})],1),a("div",[t._v("-")])]),a("div",{staticClass:"list"},[a("div",[t._v("筹码差距")]),a("div",[t._v(" "+t._s(t.form.chipGap||"-")+" ")]),a("div",[0==t.form.chipGap?a("span",[t._v("正确")]):a("span",{staticStyle:{color:"red"}},[t._v("错误")])])]),a("div",{staticClass:"list"},[a("div",[t._v("现金差距")]),a("div"),a("div",[0==t.form.cashGap?a("span",[t._v("正确")]):a("span",{staticStyle:{color:"red"}},[t._v("错误")])])]),a("div",{staticClass:"list"},[a("div",[t._v("总差距")]),a("div",[t._v(" "+t._s((t.form.chipGap||"-")+(t.form.cashGap||""))+" ")]),a("div",[0==t.form.cashGap&&0==t.form.cashGap?a("span",[t._v("正确")]):a("span",{staticStyle:{color:"red"}},[t._v("错误")])])]),a("div",{staticClass:"list"},[a("div",[t._v("保险筹码")]),a("div",[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:t.form.insurance,callback:function(e){t.$set(t.form,"insurance",t._n(e))},expression:"form.insurance"}})],1),a("div",[t._v("-")])]),a("div",{staticClass:"list"},[a("div",[t._v("保险筹码增")]),a("div",[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:t.form.insuranceAdd,callback:function(e){t.$set(t.form,"insuranceAdd",t._n(e))},expression:"form.insuranceAdd"}})],1),a("div",[t._v("-")])]),a("div",{staticClass:"list"},[a("div",[t._v("保险筹码减")]),a("div",[a("el-input",{attrs:{placeholder:"",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:t.form.insuranceSub,callback:function(e){t.$set(t.form,"insuranceSub",t._n(e))},expression:"form.insuranceSub"}})],1),a("div",[t._v("-")])]),a("div",{staticClass:"list"},[a("div",[t._v("保险筹码差距")]),a("div",[t._v(" "+t._s(t.form.insuranceGap||"-")+" ")]),a("div",[0==t.form.insuranceGap?a("span",[t._v("正确")]):a("span",{staticStyle:{color:"red"}},[t._v("错误")])])]),"收码"==t.title?a("div",{staticClass:"list"},[a("div",[t._v("筹码收码")]),a("div",[t._v(" "+t._s(t.form.chipReceipt||"-")+" ")]),a("div",[t._v("-")])]):t._e(),"收码"==t.title?a("div",{staticClass:"list"},[a("div",[t._v("现金收码")]),a("div",[t._v(" "+t._s(t.form.cashReceipt||"-")+" ")]),a("div",[t._v("-")])]):t._e()])],1),a("el-col",{attrs:{span:24,xs:24}},[a("div",{staticClass:"remark"},[a("span",[t._v("增减码修改备注：")]),a("el-input",{attrs:{type:"text",placeholder:"请输入内容"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确定修改")]),a("el-button",{on:{click:t.count}},[t._v("计算差距")])],1)],1):t._e()},r=[],s=a("53ca"),o=(a("d3b7"),a("159b"),a("038f")),i={name:"Dialog",props:["title","open"],data:function(){return{form:{},isOpen:this.open,rules:{},loading:!1,aTotal:"",cash:"",chip:"",Listdata:[{value:1e6,val:"100万",num:"",total:""},{value:5e5,val:"50万",num:"",total:""},{value:5e4,val:"5万",num:"",total:""},{value:1e4,val:"1万",num:"",total:""},{value:5e3,val:"5000",num:"",total:""},{value:1e3,val:"1000",num:"",total:""},{value:500,val:"500",num:"",total:""},{value:100,val:"100",num:"",total:""},{value:50,val:"50",num:"",total:""},{value:10,val:"10",num:"",total:""},{value:5,val:"5",num:"",total:""},{value:1,val:"1",num:"",total:""},{value:1,val:"现金",num:"",total:""}]}},created:function(){console.log(this.isOpen)},watch:{open:function(t){this.isOpen=t}},methods:{reset:function(){this.Listdata=[{value:1e6,val:"100万",num:"",total:""},{value:5e5,val:"50万",num:"",total:""},{value:5e4,val:"5万",num:"",total:""},{value:1e4,val:"1万",num:"",total:""},{value:5e3,val:"5000",num:"",total:""},{value:1e3,val:"1000",num:"",total:""},{value:500,val:"500",num:"",total:""},{value:100,val:"100",num:"",total:""},{value:50,val:"50",num:"",total:""},{value:10,val:"10",num:"",total:""},{value:5,val:"5",num:"",total:""},{value:1,val:"1",num:"",total:""},{value:1,val:"现金",num:"",total:""}],this.form={chip:"",cash:"",chipAdd:"",chipSub:"",cashAdd:"",cashSub:"",insurance:"",insuranceAdd:"",insuranceSub:"",type:"",remark:""},this.resetForm("form")},submitForm:function(){var t=this;this.$refs["form"].validate((function(e){e&&("收码"==t.title?Object(o["a"])(t.form).then((function(e){t.$modal.msgSuccess("收码修改成功"),t.isOpen=!t.isOpen,t.$emit("getOpen",t.isOpen),t.reset()})):Object(o["a"])(t.form).then((function(e){t.$modal.msgSuccess("点码修改成功"),t.isOpen=!t.isOpen,t.$emit("getOpen",t.isOpen),t.reset()})))}))},handleClose:function(){this.reset(),this.isOpen=!this.isOpen,this.$emit("getOpen",this.isOpen)},getSummaries:function(t){var e=this,a=t.columns,n=(t.data,[]);return a.forEach((function(t,a){0!==a?2!==a||(n[a]=e.aTotal):n[a]="合计"})),n},handleSelectionChange:function(t){var e=this.Listdata;this.cash=e[12].num||0,this.chip=(e[0].num||0)*e[0].value+(e[1].num||0)*e[1].value+(e[2].num||0)*e[2].value+(e[3].num||0)*e[3].value+(e[4].num||0)*e[4].value+(e[5].num||0)*e[5].value+(e[6].num||0)*e[6].value+(e[7].num||0)*e[7].value+(e[8].num||0)*e[8].value+(e[9].num||0)*e[9].value+(e[10].num||0)*e[10].value+(e[11].num||0)*e[11].value,this.aTotal=this.cash+this.chip,this.form["cash"]=this.cash,this.form["chip"]=this.chip},count:function(){var t=this;console.log(this.form),"收码"==this.title?(this.form["type"]=1,console.log(Object(s["a"])(this.form.type)),Object(o["g"])(this.form).then((function(e){t.$modal.msgSuccess("收码计算差距成功");var a=e.data;t.form["cashGap"]=a.cashGap,t.form["chipGap"]=a.chipGap,t.form["insuranceGap"]=a.insuranceGap,t.form["cashReceipt"]=a.cashReceipt,t.form["chipReceipt"]=a.chipReceipt,t.$forceUpdate()}))):(this.form["type"]=0,Object(o["g"])(this.form).then((function(e){t.$modal.msgSuccess("点码计算差距成功");var a=e.data;t.form["cashGap"]=a.cashGap,t.form["chipGap"]=a.chipGap,t.form["insuranceGap"]=a.insuranceGap,t.$forceUpdate()})))}}},l=i,c=(a("9748"),a("2877")),u=Object(c["a"])(l,n,r,!1,null,null,null);e["default"]=u.exports},fb14:function(t,e,a){}}]);