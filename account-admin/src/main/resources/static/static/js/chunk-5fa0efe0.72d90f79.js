(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fa0efe0"],{1771:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container member-management"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24,xs:24}},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"",prop:"gameName"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:""},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},[a("el-option",{attrs:{label:"卡号查询",value:"card"}}),a("el-option",{attrs:{label:"姓名查询",value:"name"}}),a("el-option",{attrs:{label:"电话号码查询",value:"phone"}})],1),a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"",clearable:""},model:{value:e.queryParams.value,callback:function(t){e.$set(e.queryParams,"value",t)},expression:"queryParams.value"}}),a("el-checkbox",{staticStyle:{"margin-left":"20px"},attrs:{disabled:!e.queryParams.value},model:{value:e.queryParams.isChild,callback:function(t){e.$set(e.queryParams,"isChild",t)},expression:"queryParams.isChild"}},[e._v("包含子卡")])],1),a("el-form-item",{attrs:{label:"卡号状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"全部"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},[a("el-option",{attrs:{label:"全部",value:null}}),a("el-option",{attrs:{label:"正常",value:0}}),a("el-option",{attrs:{label:"停用",value:1}})],1)],1),a("el-form-item",{attrs:{label:"开户时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("查询")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"min-height":"450px"},attrs:{data:e.userList,"empty-text":"暂无数据"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{key:"card",attrs:{label:"卡号",align:"center",prop:"card"}}),a("el-table-column",{key:"name",attrs:{label:"姓名",align:"center",prop:"name","show-overflow-tooltip":!0}}),a("el-table-column",{key:"phone",attrs:{label:"电话号码",align:"center",prop:"phone","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.phone?a("span",[e._v(e._s(t.row.phone))]):a("span",[e._v("--")])]}}])}),a("el-table-column",{key:"status",attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("span",[e._v("正常")]):a("span",{staticStyle:{color:"red"}},[e._v("停用")])]}}])}),a("el-table-column",{key:"cardType",attrs:{label:"卡类型",align:"center",prop:"cardType"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0==t.row.cardType?"主卡":"子卡"))])]}}])}),a("el-table-column",{key:"isAdmin",attrs:{label:"是否内部卡号",align:"center",prop:"isAdmin"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0==t.row.isAdmin?"否":"是"))])]}}])}),a("el-table-column",{key:"sex",attrs:{label:"性别",align:"center",prop:"sex"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0==t.row.sex?"男":"女"))])]}}])}),a("el-table-column",{key:"createBy",attrs:{label:"开户人",align:"center",prop:"createBy",width:"120"}}),a("el-table-column",{attrs:{label:"开户时间",align:"center",prop:"createTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{key:"remark",attrs:{label:"备注",align:"center",prop:"remark",width:"220px","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.remark?a("span",[e._v(e._s(t.row.remark))]):a("span",[e._v("--")])]}}])}),a("el-table-column",{staticStyle:{"text-align":"left"},attrs:{fixed:"right",label:"操作",align:"center",width:"260","class-name":"operation-column small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return 1!==t.row.userId?[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleMore(t.row.id)}}},[e._v("更多信息")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),0==t.row.cardType?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-circle-plus-outline"},on:{click:function(a){return e.handleAddChild(t.row.card)}}},[e._v("新增子卡")]):e._e()]:void 0}}],null,!0)})],1),a("div",{staticClass:"count-item-box"},[a("span",{staticClass:"count-item"},[e._v("主卡号合计:"+e._s(e.count.parentCount))]),a("span",{staticClass:"count-item"},[e._v("子卡号合计:"+e._s(e.count.childCount))]),a("span",{staticClass:"count-item"},[e._v("押金:"+e._s(e.count.depositCount))]),a("span",{staticClass:"count-item"},[e._v("补卡费:"+e._s(e.count.repairCount))])]),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.open=t},close:e.onDialogClose}},[e.open?a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[0==e.isMain?a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"卡号",prop:"card"}},[a("el-input",{attrs:{placeholder:"请输入卡号",disabled:"edit"==e.openType},model:{value:e.form.card,callback:function(t){e.$set(e.form,"card",t)},expression:"form.card"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1):e._e(),e.isMain?a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"主卡号",prop:"parentCard"}},[a("el-input",{attrs:{disabled:!0,placeholder:"请输入卡号"},model:{value:e.form.parentCard,callback:function(t){e.$set(e.form,"parentCard",t)},expression:"form.parentCard"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1):e._e(),e.isMain?a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"子卡号",prop:"card"}},[a("el-input",{attrs:{placeholder:"请输入卡号"},model:{value:e.form.card,callback:function(t){e.$set(e.form,"card",t)},expression:"form.card"}})],1)],1)],1):e._e(),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-option",{attrs:{label:"男",value:0}}),a("el-option",{attrs:{label:"女",value:1}}),a("el-option",{attrs:{label:"未知",value:2}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入电话"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[e.isshow?a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"edit"==e.openType?"******":"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},[e.isshow?a("el-form-item",{attrs:{label:"确认密码",prop:"rawPassword"}},[a("el-input",{attrs:{placeholder:"edit"==e.openType?"******":"请确认密码"},model:{value:e.form.rawPassword,callback:function(t){e.$set(e.form,"rawPassword",t)},expression:"form.rawPassword"}})],1):e._e()],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"押金",prop:"deposit"}},[a("el-input",{attrs:{placeholder:"请输入押金"},model:{value:e.form.deposit,callback:function(t){e.$set(e.form,"deposit",t)},expression:"form.deposit"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"补卡费",prop:"repair"}},[a("el-input",{attrs:{placeholder:"请输入补卡费"},model:{value:e.form.repair,callback:function(t){e.$set(e.form,"repair",t)},expression:"form.repair"}})],1)],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"占股比例",prop:"shareRatio"}},[a("el-input",{attrs:{placeholder:"请输入占股比例"},model:{value:e.form.shareRatio,callback:function(t){e.$set(e.form,"shareRatio",t)},expression:"form.shareRatio"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"返点比例",prop:"rebateRatio"}},[a("el-input",{attrs:{placeholder:"请输入返点比例"},model:{value:e.form.rebateRatio,callback:function(t){e.$set(e.form,"rebateRatio",t)},expression:"form.rebateRatio"}})],1)],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"百家乐洗码比例（筹码）",prop:"baccaratRollingRatioChip","label-width":"200px"}},[a("el-input",{staticStyle:{width:"50px"},attrs:{placeholder:""},model:{value:e.form.baccaratRollingRatioChip,callback:function(t){e.$set(e.form,"baccaratRollingRatioChip",t)},expression:"form.baccaratRollingRatioChip"}}),e._v("% ")],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"百家乐洗码比例（现金）",prop:"baccaratRollingRatioCash","label-width":"200px"}},[a("el-input",{staticStyle:{width:"50px"},attrs:{placeholder:""},model:{value:e.form.baccaratRollingRatioCash,callback:function(t){e.$set(e.form,"baccaratRollingRatioCash",t)},expression:"form.baccaratRollingRatioCash"}}),e._v("% ")],1)],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"龙虎洗码比例（筹码）",prop:"dragonTigerRatioChip","label-width":"200px"}},[a("el-input",{staticStyle:{width:"50px"},attrs:{placeholder:""},model:{value:e.form.dragonTigerRatioChip,callback:function(t){e.$set(e.form,"dragonTigerRatioChip",t)},expression:"form.dragonTigerRatioChip"}}),e._v("% ")],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"龙虎洗码比例（现金）",prop:"dragonTigerRatioCash","label-width":"200px"}},[a("el-input",{staticStyle:{width:"50px"},attrs:{placeholder:""},model:{value:e.form.dragonTigerRatioCash,callback:function(t){e.$set(e.form,"dragonTigerRatioCash",t)},expression:"form.dragonTigerRatioCash"}}),e._v("% ")],1)],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否可换现",prop:"isCash"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:""},model:{value:e.form.isCash,callback:function(t){e.$set(e.form,"isCash",t)},expression:"form.isCash"}},[a("el-option",{attrs:{label:"否",value:0}}),a("el-option",{attrs:{label:"是",value:1}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否可结算洗码",prop:"isSettlement","label-width":"110px"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:""},model:{value:e.form.isSettlement,callback:function(t){e.$set(e.form,"isSettlement",t)},expression:"form.isSettlement"}},[a("el-option",{attrs:{label:"否",value:0}}),a("el-option",{attrs:{label:"是",value:1}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否可汇出",prop:"isOut"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:""},model:{value:e.form.isOut,callback:function(t){e.$set(e.form,"isOut",t)},expression:"form.isOut"}},[a("el-option",{attrs:{label:"否",value:0}}),a("el-option",{attrs:{label:"是",value:1}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否抽水",prop:"isPump","label-width":"110px"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:""},model:{value:e.form.isPump,callback:function(t){e.$set(e.form,"isPump",t)},expression:"form.isPump"}},[a("el-option",{attrs:{label:"否",value:0}}),a("el-option",{attrs:{label:"是",value:1}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:""},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"正常",value:0}}),a("el-option",{attrs:{label:"停用",value:1}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:7,placeholder:"请输入内容",maxlength:"100","show-word-limit":""},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1):e._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.resetAddForm}},[e._v("重置")])],1)],1),a("el-dialog",{attrs:{title:"更多信息",visible:e.detailOpen,width:"400px","append-to-body":""},on:{"update:visible":function(t){e.detailOpen=t}}},[a("div",{staticClass:"detailBox"},[a("div",{staticClass:"list"},[a("span",[e._v("押金")]),a("span",[e._v(e._s(e.memlist.deposit?e.memlist.deposit:"-"))])]),a("div",{staticClass:"list"},[a("span",[e._v("补卡费")]),a("span",[e._v(e._s(e.memlist.repair?e.memlist.repair:"-"))])]),a("div",{staticClass:"list"},[a("span",[e._v("占股比例")]),a("span",[e._v(e._s(e.memlist.shareRatio?e.memlist.shareRatio:"-"))])]),a("div",{staticClass:"list"},[a("span",[e._v("返点比例")]),a("span",[e._v(e._s(e.memlist.rebateRatio?e.memlist.rebateRatio:"-"))])]),a("div",{staticClass:"list"},[a("span",[e._v("百家乐洗码比例（筹码）")]),a("span",[e._v(e._s(e.memlist.baccaratRollingRatioChip?e.memlist.baccaratRollingRatioChip:"-"))])]),a("div",{staticClass:"list"},[a("span",[e._v("百家乐洗码比例（现金）")]),a("span",[e._v(e._s(e.memlist.baccaratRollingRatioCash?e.memlist.baccaratRollingRatioCash:"-"))])]),a("div",{staticClass:"list"},[a("span",[e._v("龙虎洗码比例（筹码）")]),a("span",[e._v(e._s(e.memlist.dragonTigerRatioChip?e.memlist.dragonTigerRatioChip:"-"))])]),a("div",{staticClass:"list"},[a("span",[e._v("龙虎洗码比例（现金）")]),a("span",[e._v(e._s(e.memlist.dragonTigerRatioCash?e.memlist.dragonTigerRatioCash:"-"))])]),a("div",{staticClass:"list"},[a("span",[e._v("是否抽水")]),a("span",[e._v(e._s(e.memlist.isPump?0==e.memlist.isPump?"否":"是":"-"))])]),a("div",{staticClass:"list"},[a("span",[e._v("是否可换现")]),a("span",[e._v(e._s(e.memlist.isCash?0==e.memlist.isCash?"否":"是":"-"))])]),a("div",{staticClass:"list"},[a("span",[e._v("是否可结算洗码")]),a("span",[e._v(e._s(e.memlist.isSettlement?0==e.memlist.isSettlement?"否":"是":"-"))])]),a("div",{staticClass:"list"},[a("span",[e._v("是否可汇出")]),a("span",[e._v(e._s(e.memlist.isOut?0==e.memlist.isOut?"否":"是":"-"))])])])])],1)},r=[],l=a("5530"),o=(a("4de4"),a("d3b7"),a("d81d"),a("25f0"),a("b775"));a("c38a");function i(e){return Object(o["a"])({url:"/account/mambers/list",method:"get",params:e})}function n(e){return Object(o["a"])({url:"/account/mambers/info",method:"get",params:e})}function p(e){return Object(o["a"])({url:"/account/mambers/add",method:"get",params:e})}function c(e){return Object(o["a"])({url:"/account/mambers/edit",method:"get",params:e})}function m(e){return Object(o["a"])({url:"/account/mambers/delete",method:"get",params:e})}var d=a("3932"),u=a("5f87"),h={name:"Member",data:function(){return{isMain:!1,loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,userList:null,memlist:{},title:"",deptOptions:void 0,open:!1,detailOpen:!1,deptName:void 0,initPassword:void 0,dateRange:[],postOptions:[],roleOptions:[],form:{},defaultProps:{children:"children",label:"label"},upload:{open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Object(u["a"])()},url:"http://searchaccount.kk88815.net/system/user/importData"},queryParams:{pageNum:1,pageSize:30,type:"card",value:"",isChild:"",status:""},isshow:!0,oddsList:[],count:{childCount:0,depositCount:0,parentCount:0,repairCount:0},openType:""}},computed:{rules:function(){return{card:[{required:!0,message:"用户名称不能为空",trigger:"blur"}],name:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],password:[{required:"edit"!=this.openType,message:"新密码不能为空",trigger:"blur"}],rawPassword:[{required:"edit"!=this.openType,message:"确认密码不能为空",trigger:"blur"},{validator:this.equalToPassword,trigger:"blur"}],deposit:[{pattern:/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/,message:"请输入大于0的数字"}],repair:[{pattern:/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/,message:"请输入大于0的数字"}],shareRatio:[{pattern:/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/,message:"请输入大于0的数字"}],rebateRatio:[{pattern:/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/,message:"请输入大于0的数字"}],baccaratRollingRatioChip:[{required:!0,message:"百家乐洗码比例（筹码）不能为空",trigger:"blur"},{pattern:/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/,message:"请输入大于0的数字"}],baccaratRollingRatioCash:[{required:!0,message:"百家乐洗码比例（现金）不能为空",trigger:"blur"},{pattern:/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/,message:"请输入大于0的数字"}],dragonTigerRatioChip:[{required:!0,message:"龙虎洗码比例（筹码）不能为空",trigger:"blur"},{pattern:/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/,message:"请输入大于0的数字"}],dragonTigerRatioCash:[{required:!0,message:"龙虎洗码比例（现金）不能为空",trigger:"blur"},{pattern:/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/,message:"请输入大于0的数字"}]}}},watch:{deptName:function(e){this.$refs.tree.filter(e)}},created:function(){this.getList()},methods:{equalToPassword:function(e,t,a){this.form.password!==t?a(new Error("两次输入的密码不一致")):a()},getList:function(){var e=this;console.log(this.queryParams);var t=this.queryParams.type,a=this.queryParams.value,s="",r="";this.dateRange&&(s=this.addDateRange(this.dateRange)[0],r=this.addDateRange(this.dateRange)[1]);var l={pageNum:this.queryParams.pageNum,pageSize:this.queryParams.pageSize};a?l[t]=a:l=l,l["isChild"]=0==this.queryParams.isChild?0:1,l["status"]=this.queryParams.status,l["beginTime"]=s,l["endTime"]=r,console.log(l),this.loading=!0,i(l).then((function(t){e.userList=t.list.rows,e.total=t.list.total,e.count=t.count?t.count:e.count,e.loading=!1}))},getMemberInfo:function(e){var t=this;n({id:e}).then((function(e){t.memlist=e.data,t.form=Object(l["a"])(Object(l["a"])({},t.form),e.data)}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},resetAddForm:function(){this.reset()},onDialogClose:function(){this.openType=""},reset:function(){var e={name:"",sex:0,phone:"",password:"",rawPassword:"",deposit:"",repair:"",shareRatio:"",rebateRatio:"",baccaratRollingRatioChip:"",baccaratRollingRatioCash:"",dragonTigerRatioChip:"",dragonTigerRatioCash:"",isCash:1,isSettlement:1,isOut:1,isPump:1,status:0,cardType:0,remark:""};this.form=Object(l["a"])(Object(l["a"])({},this.form),e),"edit"!=this.openType&&(this.form.card=""),this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.queryParams.value="",this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.open=!0,this.openType="add",this.isshow=!0,this.isMain=!1,this.title="新增卡号",this.reset(),this.getOddsList(),this.$refs.form&&this.$refs.form.clearValidate()},handleAddChild:function(e){this.open=!0,this.openType="addChild",this.isMain=!0,this.isshow=!0,this.title="新增子卡卡号",this.reset(),this.form["parentCard"]=e,this.getOddsList(),this.$refs.form&&this.$refs.form.clearValidate()},handleUpdate:function(e){this.open=!0,this.openType="edit",this.isMain=!1,this.isshow=!0,this.title="卡号修改",this.reset(),this.form=Object.assign({},e),this.getMemberInfo(e.id),this.$refs.form&&this.$refs.form.clearValidate()},handleMore:function(e){var t=this;this.loading=!0,n({id:e}).then((function(e){t.memlist=e.data,t.loading=!1,t.detailOpen=!0}))},submitForm:function(){var e=this;console.log(this.title),this.$refs["form"].validate((function(t){t&&("edit"==e.openType?c(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):"addChild"==e.openType?(e.form["cardType"]=1,p(e.form).then((function(t){e.$modal.msgSuccess("新增子卡卡号成功"),e.open=!1,e.getList()}))):p(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.userId||this.ids;console.log(a.toString()),this.$modal.confirm("是否确认删除该卡号").then((function(){return m({ids:a.toString()})})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},getOddsList:function(){var e=this;Object(d["b"])().then((function(t){e.oddsList=t.data,e.form.baccaratRollingRatioChip=t.data.baccaratRollingRatioChip,e.form.baccaratRollingRatioCash=t.data.baccaratRollingRatioCash,e.form.dragonTigerRatioChip=t.data.dragonTigerRatioChip,e.form.dragonTigerRatioCash=t.data.dragonTigerRatioCash}))}}},f=h,g=(a("91e7"),a("2877")),b=Object(g["a"])(f,s,r,!1,null,"86f3c282",null);t["default"]=b.exports},3932:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return l}));var s=a("b775");function r(e){return Object(s["a"])({url:"/system/oddsConfig/list",method:"get",params:e})}function l(e){return Object(s["a"])({url:"/system/oddsConfig",method:"post",data:e})}},"91e7":function(e,t,a){"use strict";a("fc5a")},fc5a:function(e,t,a){}}]);